<!DOCTYPE html><html style="display:none" lang="zh"><head><meta charset="utf-8"><script>window.materialVersion="1.5.0",window.oldVersion=["codestartv1","1.3.4","1.4.0","1.4.0b1"]</script><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://busuanzi.ibruce.info"><link rel="dns-prefetch" href="https://changyan.sohu.com"><title> webpack简易配置入门 | Edward&#39;s Blog</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0097A7"><meta name="author" content="Edward Guan"><meta name="description" itemprop="description" content="webpack简易入门教程"><meta name="keywords" content="前端,node,react,js,java,自学编程,学习分享,UESTC,前端工具,webpack"><script>window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}},lsloader.removeLS=function(e){try{localStorage.removeItem(e)}catch(e){}},lsloader.setLS=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},lsloader.getLS=function(e){var t="";try{t=localStorage.getItem(e)}catch(e){t=""}return t},versionString="/*"+(window.materialVersion||"unknownVersion")+"*/",lsloader.clean=function(){try{for(var e=[],t=0;t<localStorage.length;t++)e.push(localStorage.key(t));e.forEach(function(e){var t=lsloader.getLS(e);window.oldVersion&&window.oldVersion.reduce(function(e,n){return e||-1!==t.indexOf("/*"+n+"*/")},!1)&&lsloader.removeLS(e)})}catch(e){}},lsloader.clean(),lsloader.load=function(e,t,n,s){"boolean"==typeof n&&(s=n,n=void 0),s=s||!1,n=n||function(){};var a;if((a=this.getLS(e))&&-1===a.indexOf(versionString))return this.removeLS(e),void this.requestResource(e,t,n,s);if(a){if(a.split(versionString)[0]!=t)return console.log("reload:"+t),this.removeLS(e),void this.requestResource(e,t,n,s);a=a.split(versionString)[1],s?(this.jsRunSequence.push({name:e,code:a}),this.runjs(t,e,a)):(document.getElementById(e).appendChild(document.createTextNode(a)),n())}else this.requestResource(e,t,n,s)},lsloader.requestResource=function(e,t,n,s){var a=this;s?this.iojs(t,e,function(e,t,n){a.setLS(t,e+versionString+n),a.runjs(e,t,n)}):this.iocss(t,e,function(n){document.getElementById(e).appendChild(document.createTextNode(n)),a.setLS(e,t+versionString+n)},n)},lsloader.iojs=function(e,t,n){var s=this;s.jsRunSequence.push({name:t,code:""});try{var a=new XMLHttpRequest;a.open("get",e,!0),a.onreadystatechange=function(){if(4==a.readyState){if((a.status>=200&&a.status<300||304==a.status)&&""!=a.response)return void n(e,t,a.response);s.jsfallback(e,t)}},a.send(null)}catch(n){s.jsfallback(e,t)}},lsloader.iocss=function(e,t,n,s){var a=this;try{var o=new XMLHttpRequest;o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState){if((o.status>=200&&o.status<300||304==o.status)&&""!=o.response)return n(o.response),void s();a.cssfallback(e,t,s)}},o.send(null)}catch(n){a.cssfallback(e,t,s)}},lsloader.iofonts=function(e,t,n,s){var a=this;try{var o=new XMLHttpRequest;o.open("get",e,!0),o.onreadystatechange=function(){if(4==o.readyState){if((o.status>=200&&o.status<300||304==o.status)&&""!=o.response)return n(o.response),void s();a.cssfallback(e,t,s)}},o.send(null)}catch(n){a.cssfallback(e,t,s)}},lsloader.runjs=function(e,t,n){if(t&&n)for(var s in this.jsRunSequence)this.jsRunSequence[s].name==t&&(this.jsRunSequence[s].code=n);if(this.jsRunSequence[0]&&this.jsRunSequence[0].code&&"failed"!=this.jsRunSequence[0].status)(o=document.createElement("script")).appendChild(document.createTextNode(this.jsRunSequence[0].code)),o.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(o),this.jsRunSequence.shift(),this.jsRunSequence.length>0&&this.runjs();else if(this.jsRunSequence[0]&&"failed"==this.jsRunSequence[0].status){var a=this,o=document.createElement("script");o.src=this.jsRunSequence[0].path,o.type="text/javascript",this.jsRunSequence[0].status="loading",o.onload=function(){a.jsRunSequence.shift(),a.jsRunSequence.length>0&&a.runjs()},document.body.appendChild(o)}},lsloader.tagLoad=function(e,t){this.jsRunSequence.push({name:t,code:"",path:e,status:"failed"}),this.runjs()},lsloader.jsfallback=function(e,t){if(!this.jsnamemap[t]){this.jsnamemap[t]=t;for(var n in this.jsRunSequence)this.jsRunSequence[n].name==t&&(this.jsRunSequence[n].code="",this.jsRunSequence[n].status="failed",this.jsRunSequence[n].path=e);this.runjs()}},lsloader.cssfallback=function(e,t,n){if(!this.cssnamemap[t]){this.cssnamemap[t]=1;var s=document.createElement("link");s.type="text/css",s.href=e,s.rel="stylesheet",s.onload=s.onerror=n;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a)}},lsloader.runInlineScript=function(e,t){var n=document.getElementById(t).innerText;this.jsRunSequence.push({name:e,code:n}),this.runjs()},lsloader.loadCombo=function(e){var t="",n={};for(var s in e){var a=this.getLS(e[s].name);if(a)var o=a.split(versionString)[0],i=a.split(versionString)[1];else o="";o==e[s].path?this.jsRunSequence.push({name:e[s].name,code:i,path:e[s].path}):(this.jsRunSequence.push({name:e[s].name,code:null,path:e[s].path,status:"comboloading"}),n[e[s].name]=!0,t+=(""==t?"":";")+e[s].path)}var u=this;if(t){var r=new XMLHttpRequest;r.open("get",combo+t,!0),r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<300||304==r.status){if(""!=r.response)return void u.runCombo(r.response,n)}else{for(var e in u.jsRunSequence)n[u.jsRunSequence[e].name]&&(u.jsRunSequence[e].status="failed");u.runjs()}},r.send(null)}this.runjs()},lsloader.runCombo=function(e,t){(e=e.split("/*combojs*/")).shift();for(var n in this.jsRunSequence)t[this.jsRunSequence[n].name]&&e[0]&&(this.jsRunSequence[n].status="comboJS",this.jsRunSequence[n].code=e[0],this.setLS(this.jsRunSequence[n].name,this.jsRunSequence[n].path+versionString+e[0]),e.shift());this.runjs()}</script><script>function Queue(){this.dataStore=[],this.offer=function(e){this.debug&&console.log("Offered a Queued Function."),"function"==typeof e?this.dataStore.push(e):console.log("You must offer a function.")},this.poll=function(){return this.debug&&console.log("Polled a Queued Function."),this.dataStore.shift()},this.execNext=function(){var e=this.poll();void 0!==e&&(this.debug&&console.log("Run a Queued Function."),e())},this.debug=!1,this.startDebug=function(){this.debug=!0}}var queue=new Queue</script><link rel="icon shortcut" type="image/ico" href="http://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg"><link rel="icon" sizes="192x192" href="http://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg"><link rel="apple-touch-icon" href="http://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg"><meta name="apple-mobile-web-app-title" content="Title"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="480"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Edward&#39;s Blog"> <!--[if lte IE 9]><link rel="stylesheet" href="/css/ie-blocker.css"><script src="/js/ie-blocker.zhCN.js"></script><![endif]--><style id="material_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style id="style_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style id="prettify_css"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style id="prettify_theme"></style><script>void 0===window.lsLoadCSSMaxNums&&(window.lsLoadCSSMaxNums=0),window.lsLoadCSSMaxNums++,lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){void 0===window.lsLoadCSSNums&&(window.lsLoadCSSNums=0),window.lsLoadCSSNums++,window.lsLoadCSSNums==window.lsLoadCSSMaxNums&&(document.documentElement.style.display="")},!1)</script><style>body,html{font-family:Roboto,"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif;overflow-x:hidden!important}code{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace}a{color:#00838f}#scheme-Paradox .hot_tags-count,#scheme-Paradox .sidebar-colored .sidebar-badge,#scheme-Paradox .sidebar-colored .sidebar-header,#scheme-Paradox .sidebar_archives-count,#search-form-label:after,#search-label,.mdl-card__media{background-color:#0097a7!important}#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus,#scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover{color:#0097a7!important}#ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a,#post_entry-right-info,.sidebar-colored .sidebar-nav li:hover>a,.sidebar-colored .sidebar-nav li:hover>a i,.sidebar-colored .sidebar-nav li>a:focus i,.sidebar-colored .sidebar-nav li>a:hover,.sidebar-colored .sidebar-nav li>a:hover i,.sidebar-colored .sidebar-nav>.open>a,.sidebar-colored .sidebar-nav>.open>a:focus,.sidebar-colored .sidebar-nav>.open>a:hover{color:#0097a7!important}.toTop{background:#757575!important}.material-layout .material-index>.material-nav,.material-layout .material-post>.material-nav,.material-nav a{color:#757575}#scheme-Paradox .MD-burger-layer{background-color:#757575}#scheme-Paradox #post-toc-trigger-btn{color:#757575}.post-toc a:hover{color:#00838f;text-decoration:underline}</style><style>body{background-color:#f5f5f5}#scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{background-color:#fff}</style><style>.fade{transition:all .8s linear;-webkit-transform:translate3d(0,0,0);-moz-transform:translate3d(0,0,0);-ms-transform:translate3d(0,0,0);-o-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.fade.out{opacity:0}</style><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==",!0)</script><meta property="og:url" content="http://pancakeawesome.ink"><meta property="og:type" content="blog"><meta property="og:title" content="webpack简易配置入门 | Edward&#39;s Blog"><meta property="og:image" content="http://pancakeawesome.inkhttp://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg"><meta property="og:description" content="webpack简易入门教程"><meta property="og:article:tag" content="前端工具"><meta property="og:article:tag" content="webpack"><meta property="article:published_time" content="Wed Nov 01 2017 09:37:52 GMT+0800"><meta property="article:modified_time" content="Wed Dec 06 2017 16:38:07 GMT+0800"><meta name="twitter:title" content="webpack简易配置入门 | Edward&#39;s Blog"><meta name="twitter:description" content="webpack简易入门教程"><meta name="twitter:image" content="http://pancakeawesome.inkhttp://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="http://pancakeawesome.ink"><link rel="canonical" href="http://pancakeawesome.ink/webpack简易配置入门.html"><script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://pancakeawesome.ink/webpack简易配置入门.html",
    "headline": "webpack简易配置入门",
    "datePublished": "Wed Nov 01 2017 09:37:52 GMT+0800",
    "dateModified": "Wed Dec 06 2017 16:38:07 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Edward Guan",
        "image": {
            "@type": "ImageObject",
            "url": "/img/rip.jpeg"
        },
        "description": "你说人生艳丽我没有异议，你说人生忧郁我不言语"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Edward&#39;s Blog",
        "logo": {
            "@type":"ImageObject",
            "url": "http://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg"
        }
    },
    "keywords": ",前端工具,webpack前端,node,react,js,java,自学编程,学习分享,UESTC",
    "description": "webpack简易入门教程",
}
</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0c041dca6f79c4e40fb45d1283e327e7";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body id="scheme-Paradox" class="lazy"><div class="material-layout mdl-js-layout has-drawer is-upgraded"><main class="material-layout__content" id="main"><div id="top"></div> <button class="MD-burger-icon sidebar-toggle"><span class="MD-burger-layer"></span></button> <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon"> <i class="material-icons">format_list_numbered</i></button><ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh;overflow-y:scroll"><ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#webpack-简易配置入门教程"><span class="post-toc-number">2.</span> <span class="post-toc-text">webpack 简易配置入门教程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#什么是webpack"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">什么是webpack</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#开始使用webpack"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">开始使用webpack</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#处理scss文件。"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">处理scss文件。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#处理pug-jade文件"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">处理pug/jade文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用-babel-来“编译”你的js"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">使用 babel 来“编译”你的js</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#配置多文件入口"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">配置多文件入口</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#其他处理"><span class="post-toc-number">2.7.</span> <span class="post-toc-text">其他处理</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#后记"><span class="post-toc-number">3.</span> <span class="post-toc-text">后记</span></a></li></ol></ul><div class="material-post_container"><div class="material-post mdl-grid"><div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col"><div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50"><script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 30 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script><p class="article-headline-p"> webpack简易配置入门</p></div><div class="mdl-color-text--grey-700 mdl-card__supporting-text meta"><div id="author-avatar"> <img src="/img/rip.jpeg" width="44px" height="44px" alt="Author Avatar"></div><div> <strong>Edward Guan</strong> <span>11月 01, 2017</span></div><div class="section-spacer"></div> <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"> <i class="material-icons" role="presentation">devices other</i> <span class="visuallyhidden">devices other</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button"><li class="mdl-menu__item">在其它设备中阅读本文章</li> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACY0lEQVR42u3aQXKDMBAEQP//08kDEuOZFcjY1Zx8wKDWAW3N7uPnq68HHh4eHh4eHh7ezXiP+Pr7r38e/ef+5GnPnjlcGx4eHt4W3otPbYBpN+XZ7/W14eHh4e3kPVvc8VKShebPOX7v8T14eHh49+cd35+U0e178fDw8D6XF71mYVPw8PDwPoWXl8JJsJtHt21YfGHWgoeHhxfz8kB2/++t/T08PDy8gFePNJWN/3wrLxm6wsPDw7uAl3+Ic/yshZbHwS9CYTw8PLztvOPQoR0ayBtjeeSxlFLj4eHhncSbLSIvoNsAt90mPDw8vHfx1htds8J6ZZALDw8P7w68WeHbDl0lx0y+uXh4eHj7eckL2vJ6ZbNOnozAw8PDu2wqqV1QHj0kn/U8CH5xPx4eHt7FvDZIXQ8v2jC3Hl/Aw8PD28I762CYDRnkhXV02ODh4eFt5LXhbH7/MFYYBSJ4eHh4V/Nmg1Ntg3+lmE4ODzw8PLz38mbLKkre0aZc0gDDw8PDW+blEepsQefGFlGMi4eHh3cBLy9V26ji+NPfjg4U4QgeHh7em3ht2NqS2hZXfkjg4eHh7eclRXZbHNeBQjxihYeHh3c33myMIA+FZwfScDICDw8P7yRe/dk99TAoCmU8PDy82/BmAUQbZLSHQR5zRCU1Hh4e3gW8WQAxC3nbwh0PDw/vzryVBn/eypptWRJq4OHh4d2Z1x4D69FDsQY8PDy8D+GtRA9JqV1EyXh4eHgbeW3TKw8a8hK8PQbw8PDw3sU7a+ApYRw/c33j8PDw8K7mfd+Fh4eHh4eHh4d3g+sXZjuGkqDHnRIAAAAASUVORK5CYII="></ul> <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"> <i class="material-icons" role="presentation">bookmark</i> <span class="visuallyhidden">bookmark</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button"><li class="mdl-menu__item"> <a class="post_tag-link" href="/tags/webpack/">webpack</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/前端工具/">前端工具</a></li></ul> <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"> <i class="material-icons" role="presentation">share</i> <span class="visuallyhidden">share</span></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button"><a class="post_share-link" href="#"><li class="mdl-menu__item"><span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span> &nbsp;浏览量</span></li></a><a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=webpack简易配置入门&url=http://pancakeawesome.ink/webpack简易配置入门.html&pic=http://pancakeawesome.inkhttp://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg&searchPic=false&style=simple" target="_blank"><li class="mdl-menu__item"> 分享到微博</li></a><a class="post_share-link" href="https://twitter.com/intent/tweet?text=webpack简易配置入门&url=http://pancakeawesome.ink/webpack简易配置入门.html&via=Edward Guan" target="_blank"><li class="mdl-menu__item"> 分享到 Twitter</li></a><a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://pancakeawesome.ink/webpack简易配置入门.html" target="_blank"><li class="mdl-menu__item"> 分享到 Facebook</li></a><a class="post_share-link" href="https://plus.google.com/share?url=http://pancakeawesome.ink/webpack简易配置入门.html" target="_blank"><li class="mdl-menu__item"> 分享到 Google+</li></a><a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://pancakeawesome.ink/webpack简易配置入门.html&title=webpack简易配置入门" target="_blank"><li class="mdl-menu__item"> 分享到 LinkedIn</li></a><a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Edward&#39;s Blog&title=webpack简易配置入门&summary=技术分享,学习笔记&pics=http://pancakeawesome.inkhttp://ornavpdfn.bkt.clouddn.com/blogCDN/icon-crown.svg&url=http://pancakeawesome.ink/webpack简易配置入门.html" target="_blank"><li class="mdl-menu__item"> 分享到 QQ</li></a></ul></div><div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>WebPack 可以看做是模块打包机：它做的事情是，分析你的项目结构，找到 JavaScript 模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript 等），并将其转换和打包为合适的格式供浏览器使用</p><h2 id="webpack-简易配置入门教程"><a href="#webpack-简易配置入门教程" class="headerlink" title="webpack 简易配置入门教程"></a>webpack 简易配置入门教程</h2><p><img src="https://img.funteas.com/e54cfd22c67adc465dff62272b905fc7?imageView2/2/w/800" alt=""></p><p><code>webpack</code>是现在一款非常流行的<strong>模块化管理工具🔧</strong>，<strong><code>react+webpack+es6</code></strong>是很火的项目构建组合</p><blockquote><p><code>webpack</code>会将有依赖关系的文件都视为一个模块，比如<code>scss</code>,<code>sass</code>,<code>less</code>,<code>css</code>结尾的文件，这样会产生一个模块群，<code>webpack</code>处理过后会产生可以被浏览器识别的一些文件，比如<code>Js</code>,<code>css</code>,<code>html</code>等。</p><p><a href="https://webpack.github.io/" target="_blank" rel="noopener">Webpack</a>在面对大型工程项目时，非常有优势，它最大的特点是很轻，不会加载打包冗余的文件，只会打包项目中用的到的模块。这是<code>webpack</code>的<strong>代码分割</strong>特性～</p><p><code>webpack</code>的<strong>模块热更新</strong>特性：当项目文件发生变化时，不需要开发人员手动刷新浏览器，<code>webpack</code>会自动刷新页面，极大地提高了开发效率，是不是很神奇！</p></blockquote><p><strong>注意：本文的webpack环境是<code>3.5.5</code>由于webpack的更新很快，每次更新都会更新新的语法，所以学习webpack的本质就可以</strong>，具体语法可以看webpack官网：<strong><a href="https://webpack.github.io/" target="_blank" rel="noopener">https://webpack.github.io/</a></strong></p><p>那么让我们快速以一个webpack demo的形式开始我们的webpack的学习吧～</p><h3 id="什么是webpack"><a href="#什么是webpack" class="headerlink" title="什么是webpack"></a>什么是webpack</h3><p>在前端的项目开发中，总有大量的页面和样式需要处理，而维护这些文件也成了头疼的问题。</p><p>为了简化开发，于是就有很多好的开发方式，如：</p><ul><li><p>模块化开发。每个功能模块都分开成一个个独立的组件，需要的时候再引入。</p></li><li><p>scss等预处理器。</p></li><li><p>使用pug, jade 更快编写HTML。</p></li><li><p>…</p></li></ul><p>这些方式确实可以大大提高开发效率，但是每种方式都有自己的打包方式，还有兼容性处理，如果纯手动处理，必然会增加工作量。</p><p>但是，现在有了webpack，上述问题基本解决了，一个webpack就可以处理各种繁琐的过程，给你一个清爽，快速的开发环境。</p><blockquote><p>WebPack可以看做是模块打包机：它做的事情是，分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其转换和打包为合适的格式供浏览器使用。</p></blockquote><p>简单的来说，在项目开发中，</p><ul><li><p>你可以使用js，es6/7，甚至ts开发。</p></li><li><p>es6/es7, .ts =&gt; .js</p></li><li><p>使用stylus, scss, less 等预处理器编写css</p></li><li><p>.scss/.less =&gt; .css</p></li></ul><p>webpack可以将你项目中的所有文件，处理成浏览器能识别的文件。</p><h3 id="开始使用webpack"><a href="#开始使用webpack" class="headerlink" title="开始使用webpack"></a>开始使用webpack</h3><p>先新建一个练手用的空文件夹 <code>$ mkdir webpack-demo</code> ，并进入该文件夹。</p><ol><li>新建 <code>package.json</code>.</li></ol><pre><code>$ npm init
</code></pre><ol><li>安装webpack及其基本插件。</li></ol><pre><code>$ npm i -D webpack extract-text-webpack-plugin html-webpack-plugin css-loader file-loader style-loader url-loader
</code></pre><p>其中：</p><ol><li>配置webpack。</li></ol><p>新建一个配置文件： <code>$ touch webpack.config.js</code></p><pre><code>var webpack = require(&#39;webpack&#39;);
var path = require(&#39;path&#39;);
varExtractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);
var HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);
var webpackConfig = { // 设置入口文件。
    entry: &#39;./src/js/index.js&#39;,
    output: { // 设置输出文件夹
        path: path.join(__dirname, &#39;dist&#39;), // 设置公用文件夹路径
        publicPath: &#39;/&#39;, // 设置输出的js文件的名字规则。// [name] 为chunk中的名称// [hash] 为webpack生成的哈希值
        filename: &quot;js/[name].[hash].bundle.js&quot;
    },
    module: {
        rules: [{ // 处理css文件
            test: /\.css$/,
            loader: &quot;style-loader!css-loader&quot;
        }, { // 处理html文件，并处理img 中 src 和 data-src 的引入路径
            test: /\.html$/,
            loader: &quot;html-loader?attrs=img:src img:data-src&quot;
        }, { // 处理字体文件
            test: /\.(woff|woff2|ttf|eot|svg)(\?v=[0-9]\.[0-9]\.[0-9])?$/,
            loader: &#39;file-loader?name=./fonts/[name].[ext]&#39;
        }, { // 处理图片，并将8k以下的图片转为base64编码
            test: /\.(png|jpg|gif)$/,
            loader: &#39;url-loader?limit=8192&amp;name=./img/[hash].[ext]&#39;
        }]
    },
    plugins: [ // 公共js提取
        new webpack.optimize.CommonsChunkPlugin({
            name: &#39;vendors&#39;, // 将公共模块提取，生成名为`vendors`的chunk 
            minChunks: 3 // 提取至少3个模块共有的部分
        }),
        // 提取公共css样式
        newExtractTextPlugin(&#39;./css/[name].css&#39;),
        // 处理html文件。
        newHtmlWebpackPlugin({
            filename: &#39;./view/index.html&#39;, //生成的html存放路径，相对于path
            template: &#39;./src/view/index.html&#39;, //html模板路径
            inject: &#39;body&#39;, //js插入的位置，true/&#39;head&#39;/&#39;body&#39;/false
            hash: true, //为静态资源生成hash值// 
            chunks: [&#39;vendors&#39;, allDirs[i] + &#39;/&#39; + matches[1]], //需要引入的chunk，不配置就会引入所有页面的资源
            minify: { //压缩HTML文件
                removeComments: true, //移除HTML中的注释
                collapseWhitespace: false //删除空白符与换行符
            }
        })
    ], // 设置开发服务器
    devServer: {
        contentBase: path.join(__dirname, &quot;dist/&quot;),
        host: &#39;localhost&#39;,
        port: 9090,
        inline: true
    }
}
module.exports = webpackConfig
</code></pre><ol><li>测试配置文件：<br>先设置开发文件夹目录：</li></ol><ul><li>webpack-demo<ul><li>node_modules</li></ul><ul><li>src<ul><li>js // 存放js文件</li><li>css // 存放css样式</li><li>view // 存放模板文件</li></ul><ul><li>webpack.config.js</li><li>package.json</li></ul></li></ul></li></ul><p>新建一个 html 文件：<br><code>$ touch ./src/view/index.html</code>。</p><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

    &lt;head&gt;
        &lt;metacharset=&quot;UTF-8&quot;&gt;
            &lt;metaname=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
                &lt;metahttp-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
                    &lt;title&gt;Hello World&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;h2&gt;Hello World&lt;/h2&gt;
        &lt;p&gt;This is from webpack-demo&lt;/p&gt;
    &lt;/body&gt;

&lt;/html&gt;
</code></pre><p>新建css文件： <code>$ touch ./src/css/index.css</code>。</p><pre><code>h2 {
    color: red;
    opacity: 0.5;
    transform: rotateZ(-10 deg);
}
p {
    color: green;
}
</code></pre><p>新建js文件： <code>$ touch ./src/js/index.js</code>。</p><pre><code>// 引入css文件。
require(&#39;../css/index.css&#39;)

console.log(&#39;hello world&#39;);
</code></pre><p>测试打包： <code>$ webpack</code><br>OK!基本的配置就完成了。<br><img src="https://img.funteas.com/cdd0c8a3c4779a076a4af3de8a38cc86?imageView2/2/w/800" alt=""></p><p>我们可以看到，在项目中多了一个dist文件夹，里面存放的就是刚刚打包好的文件。打开index.html（需要在服务器中打开，并且服务器根目录为dist）可以看到，生成的html文件，征程显示我们写的内容，css样式则直接写入了style标签当中，而且自动引入了两个js文件，其中，vendors是带有公共部分的js文件，index则是我们一开始写的js逻辑文件。<br><img src="https://img.funteas.com/6b1a1edb6f9d049014899131b37a02b8?imageView2/2/w/800" alt=""></p><h3 id="处理scss文件。"><a href="#处理scss文件。" class="headerlink" title="处理scss文件。"></a>处理scss文件。</h3><p>既然都用到了webpack自动打包了，那也顺便使用webpack去处理scss文件（个人爱好是scss，less的处理同理），顺便也处理完css中的其他兼容性问题和浏览器前缀问题吧（程序员的思维就是，懒）。</p><p>现在css中需要处理的有：</p><ol><li><p>浏览器前缀和大部分兼容性问题： <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fpostcss%2Fautoprefixer" target="_blank" rel="noopener">autoprefixer</a></p></li><li><p>flex 的兼容性问题： <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2F7rulnik%2Fpostcss-flexibility" target="_blank" rel="noopener">postcss-flexibility</a></p></li><li><p>opacity 兼容IE： <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fiamvdo%2Fpostcss-opacity" target="_blank" rel="noopener">postcss-opacity</a></p></li><li><p>颜色兼容性问题： <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fpostcss%2Fpostcss-color-rgba-fallback" target="_blank" rel="noopener">postcss-color-rgba-fallback</a></p></li><li><p>scss文件处理： <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fwebpack-contrib%2Fsass-loader" target="_blank" rel="noopener">sass-loader</a> 同时需要依赖 <code>node-sass</code></p></li><li><p>压缩css文件： <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fben-eb%2Fcssnano" target="_blank" rel="noopener">cssnano</a></p></li></ol><p>安装上书postcss-loader的插件： <code>$ npm i -D autoprefixer postcss-flexibility postcss-opacity postcss-color-rgba-fallback sass-loader node-sass</code></p><p>现在在webpack中处理css的问题，基本都是通过一个 <code>postcss-loader</code> 去完成所有的处理问题。</p><p>先新建一个文件夹，用于存放所有的scss文件： <code>$ mkdir ./src/scss</code></p><p>再新建一个index.scss, <code>$ touch ./src/scss/index.scss</code></p><pre><code>body {
    background: black;
    color: white;
    h2 {
        transform: translateX(10 px) rotateZ(-10 deg);
        color: red;
        opacity: 0.5;
    }
}
</code></pre><p>将postcss的加载器中需要的单独提取出来放在一个配置文件中： <code>$ touch postcss.config.js</code></p><pre><code>module.exports = {
    plugins: [ // minify css
        require(&#39;cssnano&#39;)({
            preset: &#39;default&#39;
        }), // 处理css前缀
        require(&#39;autoprefixer&#39;)({
            browserslist: [&quot;&gt; 1%&quot;, &quot;last 2 versions&quot;, &quot;Edge&quot;, &quot;ie &gt;= 9&quot;]
        }), // 处理flex浏览器兼容性
        require(&#39;postcss-flexibility&#39;), // 处理css中rgba颜色代码
        require(&#39;postcss-color-rgba-fallback&#39;), // 处理css中opacity的IE兼容性。
        require(&#39;postcss-opacity&#39;)
    ]
}
</code></pre><p>修改 webpack.config.js:</p><pre><code>var webpackConfig = { ...module: {
        rules: [{ // 处理css文件
            test: /\.(scss|sass|css)$/, // 
            loader: &quot;css-loader?importLoaders=1!postcss-loader!sass-loader&quot;, // loader执行顺序是从右到左：sass-loader -&gt; postcss-loader -&gt; css-loader
            use: [&quot;style-loader&quot;, {
                loader: &quot;css-loader&quot;,
                options: { // // 0 =&gt; no loaders (default); 1 =&gt; postcss-loader; 2 =&gt; postcss-loader, sass-loader
                    importLoaders: 2
                }
            }, &#39;postcss-loader&#39;, &#39;sass-loader&#39;]
        }, ...]
    }...
}
module.exports = webpackConfig
</code></pre><p>修改一下入口文件中的样式引入： <code>$ vim ./src/js/index.js</code></p><pre><code>require(&#39;../scss/index.scss&#39;)

console.log(&#39;hello world&#39;);
</code></pre><p>打包测试：<br><img src="https://img.funteas.com/7161926ef76bbc56cd95b4e8fa3b3043?imageView2/2/w/800" alt=""><img src="https://img.funteas.com/b2ef241cadd633d504099ebfffbe9c57?imageView2/2/w/800" alt=""></p><p>完美通过。</p><h3 id="处理pug-jade文件"><a href="#处理pug-jade文件" class="headerlink" title="处理pug/jade文件"></a>处理pug/jade文件</h3><p>项目有很多的页面，而且页面之间也有很多相同的页面，之前写惯了vue的组件，所以注册我们也引入了pug作为前端模板引擎。 pug 的前身就是 jade ，所以语法什么都得基本都是一致的。具体的看 <a href="http://link.funteas.com/?target=https%3A%2F%2Fpugjs.org%2Fapi%2Fgetting-started.html" target="_blank" rel="noopener">官网</a> 。</p><p>和处理css的一样，先要安装加载器。<br><code>$ npm i -D pug pug-loader</code></p><p>新建一个简单的页面：<br><code>$ touch ./src/view/index.pug</code></p><pre><code>html
    title   Test.html
body
    h2  Welcome to pug.
    p   Thisisfrom index.pug
</code></pre><p>修改一下配置文件中的html模板入口：</p><pre><code>var webpackConfig = { ...
    plugins: [ // 公共js提取
        new webpack.optimize.CommonsChunkPlugin({
            name: &#39;vendors&#39;, // 将公共模块提取，生成名为`vendors`的chunk
        }), // 提取公共css样式
        newExtractTextPlugin(&#39;./css/[name].css&#39;), // 处理html文件。
        newHtmlWebpackPlugin({
            filename: &#39;./view/index.html&#39;, //生成的html存放路径，相对于pathtemplate:&#39;./src/view/index.pug&#39;,//html模板路径
            inject: &#39;body&#39;, //js插入的位置，true/&#39;head&#39;/&#39;body&#39;/false
            hash: true, //为静态资源生成hash值
            chunks: [&#39;vendors&#39;, &#39;index&#39;], //需要引入的chunk，不配置就会引入所有页面的资源
            minify: { //压缩HTML文件
                removeComments: true, //移除HTML中的注释
                collapseWhitespace: false //删除空白符与换行符
            }
        })
    ],
    ...
}
module.exports = webpackConfig
</code></pre><p>重新编译打包：<br><img src="https://img.funteas.com/f50d2630c41fc3722fb1e8c594b17df8?imageView2/2/w/800" alt=""><img src="https://img.funteas.com/b9a66e946d63f63b8afe51355f848299?imageView2/2/w/800" alt=""></p><h3 id="使用-babel-来“编译”你的js"><a href="#使用-babel-来“编译”你的js" class="headerlink" title="使用 babel 来“编译”你的js"></a>使用 babel 来“编译”你的js</h3><p>在项目开发中，难免会遇到使用 es6 ，甚至 es7 去编写js。但是大部分浏览器却不支持这些语法，这时候，就需要 <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fbabel%2Fbabel-loader" target="_blank" rel="noopener">babel-loader</a> 来处理js，并将其转换为浏览器能识别的 es5 语法。</p><p>还是要安装依赖： <code>$ npm i -D babel-loader babel-core babel-preset-es2015</code></p><p>如果用上了es7 的语法，就要根据不同阶段语法提案的转码规则（共有4个阶段），选装一个：</p><pre><code>$ npm i -D babel-preset-stage-0
$ npm i -D babel-preset-stage-1
$ npm i -D babel-preset-stage-2
$ npm i -D babel-preset-stage-3
</code></pre><p>新建一个 <code>.babelrc</code> babel配置文件： <code>$ touch .babelrc</code></p><pre><code>{&quot;presets&quot;:[&quot;es2015&quot;],&quot;plugins&quot;:[]}
</code></pre><p>修改 webpack 配置文件：</p><pre><code>var webpackConfig = { ...module: {
        rules: [{
            test: /\.js$/, // 不编译 node_modules 下的文件
            exclude: /node_modules/,
            loader: &quot;babel-loader&quot;
        }]
    }...
}
module.exports = webpackConfig
</code></pre><p>在 index.js 中写个 es6 的语法：</p><pre><code>require(&#39;../scss/index.scss&#39;)

console.log(&#39;hello world&#39;);
((message) =&gt; {
    console.log(message);
})(&#39;message from es6&#39;)

let step = 2;
var add = number =&gt; number *= step

console.log(add(2));
</code></pre><p>来，打包看看：<br><img src="https://img.funteas.com/17f943bb3337dc33beee2c13805be376?imageView2/2/w/800" alt=""><img src="https://img.funteas.com/dcdad593279f1b2192a9f4ba9d5f28ff?imageView2/2/w/800" alt=""><br>完美。</p><h3 id="配置多文件入口"><a href="#配置多文件入口" class="headerlink" title="配置多文件入口"></a>配置多文件入口</h3><p>项目有多个页面，每个页面都对应着一个js入口和一个页面，但是，入口 entry 和 html-webpack-plugin 每次只能配置一个具体的入口文件，如果每增加一个页面就要去配置，那么这无形之中增加了工作量，因此，我们需要一个通用的入口文件。</p><p>既然在node中可以访问文件夹并读取其中的文件名，那么我们可以使用node来去循环读取文件夹下的js文件，并自动添加至入口配置中：</p><p>新建一个config 文件夹，以存放webpack可变的配置，方便以后修改： <code>$ mkdir config</code></p><p>因为遍历入口文件都是一样的操作流程，所以先写一个工具包：<code>$ touch config/utils.js</code></p><pre><code>var fs = require(&#39;fs&#39;); // 递归遍历文件夹，获取入口文件
function getAllFiles(dirRoot, type) {
    var filterReg = newRegExp(&#39;.&#39; + type + &#39;/div&gt;&#39;);
        function getAllFileFromDir(root) {
            var res = [],
                files = fs.readdirSync(root)
            files.forEach((file) =&gt; {
                var pathname = root + &#39;/&#39; + file,
                    state = fs.lstatSync(pathname)
                if (!state.isDirectory()) {
                    // 过滤相对应的文件
                    filterReg.test(pathname) &amp;&amp; res.push(pathname)
                    // res.push(pathname.replace(dir_root+&#39;/&#39;, &#39;&#39;))
                } else {
                    res = res.concat(getAllFileFromDir(pathname))
                }
            })
            return res
        }
        return getAllFileFromDir(dirRoot)
    }

    function getEntry(files, replaces) {
        var entry = {}
        for (var i = 0; i &lt; files.length; i++) {
            var filename = files[i]
            replaces.map((replace) =&gt; {
                filename = filename.replace(replace, &#39;&#39;)
            })
            entry[filename] = files[i]
        }
        return entry
    }

    module.exports = {
        getAllFiles,
        getEntry
    }
</code></pre><p>再新建一个 js 入口文件配置：<br><code>$ touch config/webpack.entry.js</code></p><pre><code>var path = require(&#39;path&#39;);
var utils = require(&#39;./utils.js&#39;) var dir_root = path.resolve(__dirname, &#39;../src/js&#39;); 
// console.log(getAllFiles(dir_root));
var allFiles = utils.getAllFiles(dir_root, &#39;js&#39;) var entry = utils.getEntry(allFiles, [&#39;js&#39;, dir_root + &#39;/&#39;])
console.log(entry);
module.exports = entry
</code></pre><p>同样的，页面入口文件也添加一个：<br> <code>$ touch config/webpack.plugins.js</code></p><pre><code>var webpack = require(&#39;webpack&#39;) var path = require(&#39;path&#39;);
var utils = require(&#39;./utils.js&#39;) varExtractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);
var HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);
var entry = require(&#39;./webpack.entry.js&#39;);
var plugins = [ // 公共js提取
    new webpack.optimize.CommonsChunkPlugin({
        name: &#39;vendors&#39;, // 将公共模块提取，生成名为`vendors`的chunk
        minChunks: 3 // 提取至少3个模块共有的部分
    }), // 提取公共css样式
    newExtractTextPlugin(&#39;./css/[name].css&#39;),
]
let dir_root = path.resolve(__dirname, &#39;../src/view&#39;);
var pugFiles = utils.getAllFiles(dir_root, &#39;pug&#39;)

pugFiles = utils.getEntry(pugFiles, [&#39;.pug&#39;, dir_root + &#39;/&#39;]) for (var key in pugFiles) {
    if (pugFiles.hasOwnProperty(key)) {
        let opt = {
            filename: &#39;./view/&#39; + key + &#39;.html&#39;,
            template: pugFiles[key],
            hash: true,
            minify: { //压缩HTML文件
                removeComments: true, //移除HTML中的注释
                collapseWhitespace: false //删除空白符与换行符
            }
        }
        if (entry.hasOwnProperty(key)) {
            opt[&#39;chunks&#39;] = [&#39;vendors&#39;, key]
            opt[&#39;inject&#39;] = &#39;body&#39;
        }
        console.log(opt);
        plugins.push(newHtmlWebpackPlugin(opt))
    }
}
module.exports = plugins
</code></pre><p>再次修改webpack的配置：</p><pre><code>var entry = require(&#39;./config/webpack.entry.js&#39;) var plugins = require(&#39;./config/webpack.plugins.js&#39;) var webpackConfig = {
    entry,
    plugins,
    ...
}
module.exports = webpackConfig
</code></pre><p><img src="https://img.funteas.com/281e607088b144d2c458949393222b8c?imageView2/2/w/800" alt=""><img src="https://img.funteas.com/40af51e0f7c22c574ec37d04126dec94?imageView2/2/w/800" alt=""><br>可以看到，dist文件夹下，多了几个html文件和js文件。</p><h3 id="其他处理"><a href="#其他处理" class="headerlink" title="其他处理"></a>其他处理</h3><ul><li>提取css到外部link，而非style标签<br>这个解决办法比较简单，只需要用 <code>extract-text-webpack-plugin</code> 插件将css提取出来即可：</li></ul><pre><code>{
    test: /\.(scss|sass|css)$/,
    use: ExtractTextPlugin.extract(
    {
        fallback: &quot;style-loader&quot;,
        use: [
        {
            loader: &quot;css-loader&quot;,
            options:
            { // // 0 =&gt; no loaders (default); 1 =&gt; postcss-loader; 2 =&gt; postcss-loader, sass-loader
                importLoaders: 2
            }
        }, &#39;postcss-loader&#39;, &#39;sass-loader&#39;]
    })
}
</code></pre><p>再次打包的结果：<br><img src="https://img.funteas.com/c0d501d1dba2745f1a88a74039e29176?imageView2/2/w/800" alt=""></p><p>列出dis文件夹的目录树可以发现，多了一个css的文件夹。打开页面可以发现，页面中的style标签已经被link替代了。<br><img src="https://img.funteas.com/9b3e582b1d7799c98891be7786f8b751?imageView2/2/w/800" alt=""><img src="https://img.funteas.com/e9c1a1d5a71d0175912b4ad5b53bcd0a?imageView2/2/w/800" alt=""></p><ul><li>每次打包旧的文件依旧存在<br>每次执行webpack打包（当然在实际开发中应该使用热更新服务器，不需要频繁打包）都会产生一堆新的js文件。</li></ul><p>解决办法：</p><p>一是将打包的js文件的hash值去掉，这样就会新的打包js文件，将旧的覆盖。</p><p>二是使用 <a href="http://link.funteas.com/?target=https%3A%2F%2Fgithub.com%2Fjohnagan%2Fclean-webpack-plugin" target="_blank" rel="noopener">clean-webpack-plugin</a></p><pre><code>var CleanWebpackPlugin = require(&#39;clean-webpack-plugin&#39;);
var plugins = [ // 每次打包前都清空dist文件
    newCleanWebpackPlugin([&#39;dist&#39;], {
        root: path.resolve(__dirname, &#39;../&#39;)
    }), // 公共js提取
    new webpack.optimize.CommonsChunkPlugin({
        name: &#39;vendors&#39;,
        // 将公共模块提取，生成名为`vendors`的chunk//
        minChunks: 3 // 提取至少3个模块共有的部分
    }), // 提取公共css样式
    newExtractTextPlugin(&#39;./css/[name].css&#39;),
]
</code></pre><ul><li>批量新建文件<br>因为每个页面基本都有3个文件：<code>page.pug</code>, <code>page.js</code>, <code>page.scss</code>，如果每次新加一个页面都要手动新建3个文件的话，效率太低下，能用命令行解决的，当然要用命令行解决啦。</li></ul><p>先写个小脚本 <code>newpage.sh</code>:</p><pre><code>#!/bin/shif[[ $1 ]];then
    filename=$1
    touch ./src/js/$filename.js
    touch ./src/view/$filename.pug
    touch ./src/scss/$filename.scss
fi
</code></pre><p>使用方式就是： <code>$ ./newpage.sh filename</code>，要运行该脚本，就需要先将脚本设置为可执行： <code>$ sudo chmod +x ./newpage.sh</code>。</p><p>还可以将它写进 npm 的 <code>package.json</code> 的命令中，则命令可以变为：<code>npm run new -- filename</code></p><pre><code>{&quot;script&quot;:{&quot;new&quot;:&quot;./newpage.sh&quot;}}
</code></pre><ul><li>定义路径常量<br>在编写js时，因为有可能js文件是在很多级的目录当中，如果每次都使用 <code>..</code> 来定位上一层目录的话，那么这个定位就会十分繁琐。这时可以使用 webpack 提供的 <a href="http://link.funteas.com/?target=https%3A%2F%2Fwebpack.js.org%2Fconfiguration%2Fresolve%2F%23resolve-alias" target="_blank" rel="noopener">resolve.alias</a> 配置来使引入文件的时候变得更加方便简单。</li></ul><pre><code>resolve: {
    alias: {
        scss: path.resolve(__dirname, &#39;src/scss&#39;),
        js: path.resolve(__dirname, &#39;src/js&#39;),
        view: path.resolve(__dirname, &#39;src/view&#39;),
        assets: path.resolve(__dirname, &#39;src/assets&#39;)
    }
}
</code></pre><p>这样，在 <code>other.js</code> 中，就可以直接使用 <code>require(&#39;scss/about.scss&#39;)</code> 而不需要写繁琐的 <code>require(&#39;../../scss/about.scss&#39;)</code>。这样就方便多了。</p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>看完这篇文章相信你对<code>webpack</code>的配置已经基本了解了，接下来如果你想了解<code>webpack</code>的更多基础知识，请看我的这篇<a href="http://pancakeawesome.ink/%E5%85%A5%E9%97%A8Webpack%EF%BC%8C%E7%9C%8B%E8%BF%99%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86.html">文章</a>，并且想实践中使用<code>webpack</code>，请看我的这篇<a href="http://pancakeawesome.ink/react%E5%AE%9E%E6%88%98-%E6%89%93%E9%80%A0%E7%94%BB%E5%BB%8A%E9%A1%B9%E7%9B%AE.html">文章</a></p><blockquote style="margin:2em 0 0;padding:.5em 1em;border-left:3px solid #f44336;background-color:#f5f5f5;list-style:none"><p> <strong>This blog is under a <a href="https://pancakeawesome.ink/" target="_blank">CC BY-NC-SA 3.0 Unported License</a></strong><br> <strong>本文链接：</strong><a href="http://pancakeawesome.ink/webpack简易配置入门.html">http://pancakeawesome.ink/webpack简易配置入门.html</a></p></blockquote></div><div id="changyan-comment"><div id="SOHUCS" sid="webpack简易配置入门.html"></div><script type="text/javascript">!function(){var t="da223e602e0abf03eded8d4c19e7d862";if((window.innerWidth||document.documentElement.clientWidth)<960)window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=cytdf2o7Q&conf='+t+'"><\/script>');else{!function(t,e){var n=document.getElementsByTagName("head")[0]||document.head||document.documentElement,a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("charset","UTF-8"),a.setAttribute("src",t),"function"==typeof e&&(window.attachEvent?a.onreadystatechange=function(){var t=a.readyState;"loaded"!==t&&"complete"!==t||(a.onreadystatechange=null,e())}:a.onload=e),n.appendChild(a)}("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:"cytdf2o7Q",conf:t})})}}()</script></div><style>#changyan-comment{background-color:#eee;padding:2pc}</style></div><nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col"> <a href="/CSS3-transform特性教程.html" id="post_nav-newer" class="prev-content"><button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"> <i class="material-icons">arrow_back</i></button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 新篇</a><div class="section-spacer"></div> <a href="/react实战-打造画廊项目（二）.html" id="post_nav-older" class="next-content">旧篇 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation"> <i class="material-icons">arrow_forward</i></button></a></nav></div></div><div class="sidebar-overlay"></div><aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation"><div id="sidebar-main"><div class="sidebar-header header-cover" style="background-image:url(/img/thumbnail/sidebar_header.jpg)"><div class="top-bar"></div> <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display:initial" data-upgraded=",MaterialButton,MaterialRipple"> <i class="material-icons">clear_all</i><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></button><div class="sidebar-image"> <img src="/img/rip.jpeg" alt="Edward Guan's avatar"></div> <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">guanchao930908@163.com<b class="caret"></b></a></div><ul class="nav sidebar-nav"><li class="dropdown"><ul id="settings-dropdown" class="dropdown-menu"><li> <a href="mailto:guanchao930908@163.com" target="_blank" title="Email Me"><i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i> Email Me</a></li></ul></li><li id="sidebar-first-li"> <a href="/"><i class="material-icons sidebar-material-icons">home</i> 主页</a></li><li class="dropdown"> <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown"><i class="material-icons sidebar-material-icons">timeline</i> 归档<b class="caret"></b></a><ul class="dropdown-menu"><li> <a class="sidebar_archives-link" href="/archives/2018/02/">二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">10</span></a></li></ul></li><li class="dropdown"> <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown"><i class="material-icons sidebar-material-icons">chrome_reader_mode</i> 分类<b class="caret"></b></a><ul class="dropdown-menu"><li> <a class="sidebar_archives-link" href="/categories/CSS/">CSS<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/blog/">blog<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/css/">css<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/es6/">es6<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/html/">html<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/javascript/">javascript<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/javascript设计模式/">javascript设计模式<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/node-js/">node.js<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/nodejs/">nodejs<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/react/">react<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/typescript/">typescript<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端优化/">前端优化<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端工具/">前端工具<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端技术/">前端技术<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端架构设计/">前端架构设计<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端框架/">前端框架<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据分析/">数据分析<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据可视化/">数据可视化<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/机器学习/">机器学习<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/算法思想/">算法思想<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/网络/">网络<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/软件开发/">软件开发<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/面试/">面试<span class="sidebar_archives-count">1</span></a></li></ul></li><li> <a href="/tags" title="标签云"><i class="material-icons sidebar-material-icons">cloud_circle</i> 标签云</a></li><li class="divider"></li><li> <a href="/timeline" title="Timeline"><i class="material-icons sidebar-material-icons">send</i> Timeline</a></li><li> <a href="/gallery" title="Gallery"><i class="material-icons sidebar-material-icons">photo_library</i> Gallery</a></li><li> <a href="/aboutMe" title="About Me"><i class="material-icons sidebar-material-icons">person_pin</i> About Me</a></li><li class="divider"></li><li> <a href="/archives">文章总数 <span class="sidebar-badge">60</span></a></li></ul></div></aside><div id="back-to-top" class="toTop-wrap"> <a href="#top" class="toTop"><i class="material-icons footer_top-i">expand_less</i></a></div><footer class="mdl-mini-footer" id="bottom"><div class="mdl-mini-footer--left-section sns-list"> <a href="https://twitter.com/591153977" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter"> <span class="visuallyhidden">Twitter</span></button></a> <a href="https://www.facebook.com/profile.php?id=100011433530812" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook"> <span class="visuallyhidden">Facebook</span></button></a> <a href="https://www.instagram.com/edward930908/" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-instagram"> <span class="visuallyhidden">Instagram</span></button></a> <a href="https://github.com/PancakeAwesome" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-github"> <span class="visuallyhidden">Github</span></button></a> <a href="https://www.linkedin.com/in/%E8%B6%85-%E7%AE%A1-89495a145/" target="_blank"><button class="mdl-mini-footer--social-btn social-btn footer-sns-linkedin"> <span class="visuallyhidden">LinkedIn</span></button></a></div><div id="copyright"> Copyright&nbsp;©<script type="text/javascript">var fd=new Date;document.write("&nbsp;"+fd.getFullYear()+"&nbsp;")</script>Edward's Blog<br><p>Hosted by <a href="https://pages.coding.me" style="font-weight:700">Coding Pages</a></p></div><div class="mdl-mini-footer--right-section"><div><div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div><div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div></div></div></footer><script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==",!0)</script><script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==",!0)</script><script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==",!0)</script><script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cytdf2o7Q"></script><script>var agent=navigator.userAgent.toLowerCase();agent.indexOf("ucbrowser")>0&&(document.write('<link rel="stylesheet" href="/css/uc.css">'),alert("由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。"))</script><script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==",!0)</script><script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script><script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script><script>!function(){for(var e=document.querySelectorAll('script[type="text/ls-javascript"]'),r=0;r<e.length;++r){var o=e[r];lsloader.runInlineScript(o.id,o.id)}}(),console.log("\n %c © Material Theme | Version: 1.5.0 | https://github.com/viosey/hexo-theme-material %c \n","color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;","color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;")</script></main></div><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>